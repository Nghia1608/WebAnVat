{{>headerUser}}

<div class="mt-4">
    <form method="POST" action="/products/{{products._id}}?_method=POST">

    <div class="row">
        <div class="col-lg-9">
            <h2>{{products.tenSanPham}}</h2>
            <h2 id="giaTien" name="giaTien"></h2>
            <img src="{{products.image}}" class="card-img-top" alt="{{products.image}}">
            <p>{{products.moTaChiTiet}}</p>
        </div>
        
        <div class="form-group">

            <label for="soLuong">Chọn số lượng</label>
            <input type="number" class="form-control" value="1" min="1" max="20"id="soLuong" name="soLuong"placeholder="Chọn số lượng mua">
            <label for="tongTien">Tổng tiền</label>

            <h2 id="tongGiaTien" name="tongGiaTien"> </h2>


            {{!-- HIDDEn --}}
            <input type="text" class="form-control" value="" id="tongTien" name="tongTien" hidden>
            <input type="text" class="form-control" value="{{products._id}}" id="idSanPham" name="idSanPham" hidden>
            <input type="text" class="form-control" value="{{products.image}}" id="image" name="image" hidden>
            <input type="text" class="form-control" value="{{products.tenSanPham}}" id="tenSanPham" name="tenSanPham" hidden>
        </div>
        <div class="col-lg-3">
            <button id="btn-add"  type="submit" class="btn btn-primary">Thêm vào giỏ hàng</button>
        </div>

    </div>
    </form>
</div>
<script>
    number = {{products.giaTien}};
    document.getElementById("tongGiaTien").innerHTML = number.toLocaleString() + "  VND";

    
    document.getElementById("soLuong").onchange= function(){
        soLuongDaChon = document.getElementById("soLuong").value 
        number2 = {{products.giaTien}}
        document.getElementById("tongGiaTien").innerHTML =({{products.giaTien}}*soLuongDaChon).toLocaleString() +"  VND";
//
        document.getElementById("tongTien").value = ({{products.giaTien}}*soLuongDaChon);
        console.log("tong tien ne"+document.getElementById("tongTien").value)
    }
</script>