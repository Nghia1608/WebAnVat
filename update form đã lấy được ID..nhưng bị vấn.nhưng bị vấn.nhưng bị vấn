Promise.all([ProductsDetails.findOne({idProduct : req.body.idSanPham[i],size :req.body.size[i]})])
                .then(async([productsdetails])=>{
                        if( productsdetails){
                            //Số lượng đã có
                            soLuongCurrent[i] = productsdetails.soLuongCon;
                            //so lượng reduce
                            soLuongReduce[i] = tempSL;
                            // tổng sau cộng
                            soLuongToTal[i] =parseInt(soLuongCurrent[i]) - parseInt(soLuongReduce[i]);
                            //
                            tinhTrangTotal[i] = "Còn hàng";
                            if(soLuongToTal[i]==0){
                                tinhTrangTotal[i] ="Tạm hết hàng"
                            }
                            newValues = ({ $set: {soLuongCon :soLuongToTal[i],tinhTrang : tinhTrangTotal[i]} });
                            temp = (productsdetails._id).toString()
                            await ProductsDetails.updateOne({_id : temp},newValues)
                        }
                })